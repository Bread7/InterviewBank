---
description: Part 3 of a hopefully fruitful and long series
---

# Pentesting Active Directory - Kerberos (Part 2)

Now that we know how Kerberos works, we can move on to learning the various types of attacks. I will mainly discuss attacks related to Kerberos.\


The types of attacks we will discuss today are:

* Overpass the Hash / Pass the Key
* Golden Ticket
* Silver Ticket
* Kerberoasting
* ASREPRoast

### Overpass the Hash / Pass the Key

This attack is designed for environments where traditional NTLM protocol is restricted, and Kerberos authentication takes precedence. It leverages the NTLM hash or AES key of a user to get Kerberos tickets, enabling unauthorized access to resources within a network. Basically, we are using the user hash to impersonate a specific user. \
\
Once we have the user hash, we can impersonate that user against the KDC and gain access to several services. User hashes can be extracted from SAM files in workstations or NTDS.DIT file of DCs or extracted from `lsass.exe` process memory with Mimikatz. \
\
Once we secure the has, we can ask for a TGT which allows an attacker to access services or machines to which the user has permissions.\
\
The process can be done with tools such as `getTGT.py`

```sh
python getTGT.py greenhat.com/frost -hashes :2a3de7fe356ee524cc9f3d579f2e0aa7  export KRB5CCNAME=/root/impacket-examples/isaac.ccache
```

We can also use `Rubeus.exe` to get TGT.

```
.\Rubeus.exe asktgt /domain:greenhat.com /user:frost /rc4:2a3de7fe356ee524cc9f3d579f2e0aa7
```

### Golden Ticket

The objective of Golden Ticket is to build a TGT.&#x20;
